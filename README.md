# haku-workflow-design
白箱流程编辑器

基于白箱[快速开发框架](https://github.com/hakubox/haku-typescript-starter)，使用原生js开发。


**目前进度**

- [x] 框架初始化
- [x] 布局系统初步完成
- [x] 基础图形：圆形/矩形完成
- [x] 图形选中拖拽完成
- [x] 图形连接初步完成
- [x] 预览图初步完成
- [ ] 拖拽角标进行图形缩放

**未处理问题**

- [ ] 拖拽后扩展画布后移动位置及滚动条位置错乱
- [ ] 背景图固定效果未完成
- [ ] 拖拽节点到边界不能平滑滚动

**优化点**

- [ ] `优先级高` 框选拖拽时考虑采用新增一个panel然后移动panel，移动结束后讲定位复原。（能极大提升框选拖拽效率，但是需要考虑到连接线的拖拽）
- [ ] `优先级中` 将模块数据保存在模块本身，不能保存在上级。
- [ ] `优先级低` 拖拽时（或者其他不需要监听事件的情况），动态移除事件

**个人备注**

[延迟执行]queueMicrotask
[节点监听]IntersectionObserver
[闲时任务]requestIdleCallback
[逐帧处理]requestAnimationFrame
